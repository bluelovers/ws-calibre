"use strict";
/**
 * Created by user on 2020/1/14.
 */
Object.defineProperty(exports, "__esModule", { value: true });
function makeWhere(tableName, locator, columnName = 'name', sep = '.') {
    const getAll = (locator == null || locator == '*' || locator == '' || locator == '/');
    const isNumber = /\d+/.test(locator + '');
    const isString = !isNumber;
    const whereStatement = getAll ?
        `${tableName}${sep}id LIKE ?` :
        isString ?
            `${tableName}${sep}${columnName} COLLATE UTF8_GENERAL_CI LIKE ?` :
            `${tableName}${sep}id = ?`;
    const value = getAll ? '%' : isString ? `%${locator}%` : locator;
    return [whereStatement, value];
}
exports.makeWhere = makeWhere;
exports.default = makeWhere;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFrZVdoZXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFrZVdoZXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRzs7QUFJSCxTQUFnQixTQUFTLENBQUMsU0FBaUIsRUFBRSxPQUFpQixFQUFFLFVBQVUsR0FBRyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUc7SUFFN0YsTUFBTSxNQUFNLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLE9BQU8sSUFBSSxHQUFHLElBQUksT0FBTyxJQUFJLEVBQUUsSUFBSSxPQUFPLElBQUksR0FBRyxDQUFDLENBQUM7SUFDdEYsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDM0IsTUFBTSxjQUFjLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDOUIsR0FBRyxTQUFTLEdBQUcsR0FBRyxXQUFXLENBQUMsQ0FBQztRQUMvQixRQUFRLENBQUMsQ0FBQztZQUNULEdBQUcsU0FBUyxHQUFHLEdBQUcsR0FBRyxVQUFVLGlDQUFpQyxDQUFDLENBQUM7WUFDbEUsR0FBRyxTQUFTLEdBQUcsR0FBRyxRQUFRLENBQzNCO0lBQ0QsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ2pFLE9BQU8sQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDaEMsQ0FBQztBQWJELDhCQWFDO0FBRUQsa0JBQWUsU0FBUyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAyMC8xLzE0LlxuICovXG5cbmV4cG9ydCB0eXBlIElMb2NhdG9yID0gc3RyaW5nIHwgJyonIHwgJycgfCAnLyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlV2hlcmUodGFibGVOYW1lOiBzdHJpbmcsIGxvY2F0b3I6IElMb2NhdG9yLCBjb2x1bW5OYW1lID0gJ25hbWUnLCBzZXAgPSAnLicpXG57XG5cdGNvbnN0IGdldEFsbCA9IChsb2NhdG9yID09IG51bGwgfHwgbG9jYXRvciA9PSAnKicgfHwgbG9jYXRvciA9PSAnJyB8fCBsb2NhdG9yID09ICcvJyk7XG5cdGNvbnN0IGlzTnVtYmVyID0gL1xcZCsvLnRlc3QobG9jYXRvciArICcnKTtcblx0Y29uc3QgaXNTdHJpbmcgPSAhaXNOdW1iZXI7XG5cdGNvbnN0IHdoZXJlU3RhdGVtZW50ID0gZ2V0QWxsID9cblx0XHRgJHt0YWJsZU5hbWV9JHtzZXB9aWQgTElLRSA/YCA6XG5cdFx0aXNTdHJpbmcgP1xuXHRcdFx0YCR7dGFibGVOYW1lfSR7c2VwfSR7Y29sdW1uTmFtZX0gQ09MTEFURSBVVEY4X0dFTkVSQUxfQ0kgTElLRSA/YCA6XG5cdFx0XHRgJHt0YWJsZU5hbWV9JHtzZXB9aWQgPSA/YFxuXHQ7XG5cdGNvbnN0IHZhbHVlID0gZ2V0QWxsID8gJyUnIDogaXNTdHJpbmcgPyBgJSR7bG9jYXRvcn0lYCA6IGxvY2F0b3I7XG5cdHJldHVybiBbd2hlcmVTdGF0ZW1lbnQsIHZhbHVlXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZVdoZXJlXG4iXX0=